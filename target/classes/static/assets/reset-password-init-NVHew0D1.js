import{d as u,r as i,a as d,b as h,_ as v,g as t,i as s,t as n,q as o,s as $,j as p,v as f,$ as g,f as a}from"./app-sWctXk48.js";import{u as C}from"./index-DPq3GusL.js";import{r as b,m as y,a as A,e as x}from"./index-BbpDxnmj.js";const _={resetAccount:{email:{required:b,minLength:y(5),maxLength:A(254),email:x}}},q=u({compatConfig:{MODE:3},name:"ResetPasswordInit",validations:_,setup(e){const l=i(null),r=i(!1),m=i({email:null});return{error:l,success:r,resetAccount:m,v$:C(),t$:d().t}},methods:{async requestReset(){this.error=null,this.success=!1,await h.post("api/account/reset-password/init",this.resetAccount.email,{headers:{"content-type":"text/plain"}}).then(()=>{this.success=!0}).catch(()=>{this.success=!1,this.error="ERROR"})}}}),k={class:"row justify-content-center"},w={class:"col-md-8"},R=["textContent"],L={key:0,class:"alert alert-warning"},D=["textContent"],V={key:1,class:"alert alert-success"},B=["textContent"],E={class:"form-group"},I=["textContent"],M=["placeholder"],P={key:0},j=["textContent"],N=["textContent"],O=["textContent"],S=["textContent"],z=["disabled","textContent"];function T(e,l,r,m,U,F){return a(),t("div",null,[s("div",k,[s("div",w,[s("h1",{textContent:n(e.t$("reset.request.title"))},null,8,R),e.success?o("",!0):(a(),t("div",L,[s("p",{textContent:n(e.t$("reset.request.messages.info"))},null,8,D)])),e.success?(a(),t("div",V,[s("p",{textContent:n(e.t$("reset.request.messages.success"))},null,8,B)])):o("",!0),e.success?o("",!0):(a(),t("form",{key:2,name:"form",onSubmit:l[1]||(l[1]=$(c=>e.requestReset(),["prevent"]))},[s("div",E,[s("label",{class:"form-control-label",for:"email",textContent:n(e.t$("global.form['email.label']"))},null,8,I),p(s("input",{type:"email",class:g(["form-control",{valid:!e.v$.resetAccount.email.$invalid,invalid:e.v$.resetAccount.email.$invalid}]),id:"email",name:"email",placeholder:e.t$("global.form['email.placeholder']"),"onUpdate:modelValue":l[0]||(l[0]=c=>e.v$.resetAccount.email.$model=c),minlength:"5",maxlength:"254",email:"",required:"","data-cy":"emailResetPassword"},null,10,M),[[f,e.v$.resetAccount.email.$model]]),e.v$.resetAccount.email.$anyDirty&&e.v$.resetAccount.email.$invalid?(a(),t("div",P,[e.v$.resetAccount.email.required?o("",!0):(a(),t("small",{key:0,class:"form-text text-danger",textContent:n(e.t$("global.messages.validate.email.required"))},null,8,j)),e.v$.resetAccount.email.email?o("",!0):(a(),t("small",{key:1,class:"form-text text-danger",textContent:n(e.t$("global.messages.validate.email.invalid"))},null,8,N)),e.v$.resetAccount.email.minLength?o("",!0):(a(),t("small",{key:2,class:"form-text text-danger",textContent:n(e.t$("global.messages.validate.email.minlength"))},null,8,O)),e.v$.resetAccount.email.maxLength?o("",!0):(a(),t("small",{key:3,class:"form-text text-danger",textContent:n(e.t$("global.messages.validate.email.maxlength"))},null,8,S))])):o("",!0)]),s("button",{type:"submit",disabled:e.v$.resetAccount.$invalid,class:"btn btn-primary",textContent:n(e.t$("reset.request.form.button")),"data-cy":"submit"},null,8,z)],32))])])])}const K=v(q,[["render",T]]);export{K as default};
