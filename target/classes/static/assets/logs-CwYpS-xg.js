import{b as g,d as m,n as h,r,l as p,a as C,_ as f,g as d,i as t,t as l,k,j as $,v as L,Y as R,a2 as O,q as y,f as c,$ as a}from"./app-sWctXk48.js";import{o as _}from"./arrays-BBQyuUUU.js";class E{changeLevel(n,o){return g.post(`management/loggers/${n}`,{configuredLevel:o})}findAll(){return g.get("management/loggers")}}const F=m({compatConfig:{MODE:3},name:"JhiLogs",setup(){const e=h("logsService",()=>new E,!0),n=r([]),o=r(""),u=r("name"),v=r(!1),b=p(()=>_(n.value,{filterByTerm:o.value,orderByProp:u.value,reverse:v.value}));return{logsService:e,loggers:n,filtered:o,orderProp:u,reverse:v,filteredLoggers:b,t$:C().t}},mounted(){this.init()},methods:{init(){this.logsService.findAll().then(e=>{this.extractLoggers(e)})},updateLevel(e,n){this.logsService.changeLevel(e,n).then(()=>{this.init()})},changeOrder(e){this.orderProp=e,this.reverse=!this.reverse},extractLoggers(e){if(this.loggers=[],e.data)for(const n of Object.keys(e.data.loggers)){const o=e.data.loggers[n];this.loggers.push({name:n,level:o.effectiveLevel})}}}}),A={class:"table-responsive"},B=["textContent"],N={key:0},D=["textContent"],S=["textContent"],T={class:"table table-sm table-striped table-bordered","aria-describedby":"Logs"},I={title:"click to order"},P=["textContent"],U=["textContent"],V=["onClick"],j=["onClick"],w=["onClick"],G=["onClick"],W=["onClick"],M=["onClick"];function q(e,n,o,u,v,b){return c(),d("div",A,[t("h2",{id:"logs-page-heading",textContent:l(e.t$("logs.title")),"data-cy":"logsPageHeading"},null,8,B),e.loggers?(c(),d("div",N,[t("p",{textContent:l(e.t$("logs.nbloggers",{total:e.loggers.length}))},null,8,D),t("span",{textContent:l(e.t$("logs.filter"))},null,8,S),n[3]||(n[3]=k()),$(t("input",{type:"text","onUpdate:modelValue":n[0]||(n[0]=s=>e.filtered=s),class:"form-control"},null,512),[[L,e.filtered]]),t("table",T,[t("thead",null,[t("tr",I,[t("th",{onClick:n[1]||(n[1]=s=>e.changeOrder("name")),scope:"col"},[t("span",{textContent:l(e.t$("logs.table.name"))},null,8,P)]),t("th",{onClick:n[2]||(n[2]=s=>e.changeOrder("level")),scope:"col"},[t("span",{textContent:l(e.t$("logs.table.level"))},null,8,U)])])]),(c(!0),d(R,null,O(e.filteredLoggers,s=>(c(),d("tr",{key:s.name},[t("td",null,[t("small",null,l(s.name),1)]),t("td",null,[t("button",{onClick:i=>e.updateLevel(s.name,"TRACE"),class:a([s.level==="TRACE"?"btn-primary":"btn-light","btn btn-sm"])}," TRACE ",10,V),t("button",{onClick:i=>e.updateLevel(s.name,"DEBUG"),class:a([s.level==="DEBUG"?"btn-success":"btn-light","btn btn-sm"])}," DEBUG ",10,j),t("button",{onClick:i=>e.updateLevel(s.name,"INFO"),class:a([s.level==="INFO"?"btn-info":"btn-light","btn btn-sm"])}," INFO ",10,w),t("button",{onClick:i=>e.updateLevel(s.name,"WARN"),class:a([s.level==="WARN"?"btn-warning":"btn-light","btn btn-sm"])}," WARN ",10,G),t("button",{onClick:i=>e.updateLevel(s.name,"ERROR"),class:a([s.level==="ERROR"?"btn-danger":"btn-light","btn btn-sm"])}," ERROR ",10,W),t("button",{onClick:i=>e.updateLevel(s.name,"OFF"),class:a([s.level==="OFF"?"btn-secondary":"btn-light","btn btn-sm"])}," OFF ",10,M)])]))),128))])])):y("",!0)])}const H=f(F,[["render",q]]);export{H as default};
