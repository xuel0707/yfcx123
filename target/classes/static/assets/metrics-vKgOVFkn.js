import{a6 as Z,a7 as Q,d as V,r as P,l as G,a as J,_ as K,g as b,i as e,k as N,t as a,j as H,v as X,Y as x,a2 as I,f as p,$ as tt,b as q,n as et,e as O,a8 as st,h as C,w as j,q as k,p as rt}from"./app-sWctXk48.js";import{f as at}from"./arrays-BBQyuUUU.js";import{u as it}from"./date-format-BkV2akP9.js";var Y={exports:{}};/*! @preserve
 * numeral.js
 * version : 2.0.6
 * author : Adam Draper
 * license : MIT
 * http://adamwdraper.github.com/Numeral-js/
 */(function(t){(function(s,g){t.exports?t.exports=g():s.numeral=g()})(Q,function(){var s,g,_="2.0.6",f={},w={},h={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},m={currentLocale:h.currentLocale,zeroFormat:h.zeroFormat,nullFormat:h.nullFormat,defaultFormat:h.defaultFormat,scalePercentBy100:h.scalePercentBy100};function D(r,i){this._input=r,this._value=i}return s=function(r){var i,d,n,o;if(s.isNumeral(r))i=r.value();else if(r===0||typeof r>"u")i=0;else if(r===null||g.isNaN(r))i=null;else if(typeof r=="string")if(m.zeroFormat&&r===m.zeroFormat)i=0;else if(m.nullFormat&&r===m.nullFormat||!r.replace(/[^0-9]+/g,"").length)i=null;else{for(d in f)if(o=typeof f[d].regexps.unformat=="function"?f[d].regexps.unformat():f[d].regexps.unformat,o&&r.match(o)){n=f[d].unformat;break}n=n||s._.stringToNumber,i=n(r)}else i=Number(r)||null;return new D(r,i)},s.version=_,s.isNumeral=function(r){return r instanceof D},s._=g={numberToFormat:function(r,i,d){var n=w[s.options.currentLocale],o=!1,l=!1,u=0,c="",$=1e12,v=1e9,y=1e6,A=1e3,S="",W=!1,F,E,M,B,L,R,T;if(r=r||0,E=Math.abs(r),s._.includes(i,"(")?(o=!0,i=i.replace(/[\(|\)]/g,"")):(s._.includes(i,"+")||s._.includes(i,"-"))&&(L=s._.includes(i,"+")?i.indexOf("+"):r<0?i.indexOf("-"):-1,i=i.replace(/[\+|\-]/g,"")),s._.includes(i,"a")&&(F=i.match(/a(k|m|b|t)?/),F=F?F[1]:!1,s._.includes(i," a")&&(c=" "),i=i.replace(new RegExp(c+"a[kmbt]?"),""),E>=$&&!F||F==="t"?(c+=n.abbreviations.trillion,r=r/$):E<$&&E>=v&&!F||F==="b"?(c+=n.abbreviations.billion,r=r/v):E<v&&E>=y&&!F||F==="m"?(c+=n.abbreviations.million,r=r/y):(E<y&&E>=A&&!F||F==="k")&&(c+=n.abbreviations.thousand,r=r/A)),s._.includes(i,"[.]")&&(l=!0,i=i.replace("[.]",".")),M=r.toString().split(".")[0],B=i.split(".")[1],R=i.indexOf(","),u=(i.split(".")[0].split(",")[0].match(/0/g)||[]).length,B?(s._.includes(B,"[")?(B=B.replace("]",""),B=B.split("["),S=s._.toFixed(r,B[0].length+B[1].length,d,B[1].length)):S=s._.toFixed(r,B.length,d),M=S.split(".")[0],s._.includes(S,".")?S=n.delimiters.decimal+S.split(".")[1]:S="",l&&Number(S.slice(1))===0&&(S="")):M=s._.toFixed(r,0,d),c&&!F&&Number(M)>=1e3&&c!==n.abbreviations.trillion)switch(M=String(Number(M)/1e3),c){case n.abbreviations.thousand:c=n.abbreviations.million;break;case n.abbreviations.million:c=n.abbreviations.billion;break;case n.abbreviations.billion:c=n.abbreviations.trillion;break}if(s._.includes(M,"-")&&(M=M.slice(1),W=!0),M.length<u)for(var z=u-M.length;z>0;z--)M="0"+M;return R>-1&&(M=M.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+n.delimiters.thousands)),i.indexOf(".")===0&&(M=""),T=M+S+(c||""),o?T=(o&&W?"(":"")+T+(o&&W?")":""):L>=0?T=L===0?(W?"-":"+")+T:T+(W?"-":"+"):W&&(T="-"+T),T},stringToNumber:function(r){var i=w[m.currentLocale],d=r,n={thousand:3,million:6,billion:9,trillion:12},o,l,u;if(m.zeroFormat&&r===m.zeroFormat)l=0;else if(m.nullFormat&&r===m.nullFormat||!r.replace(/[^0-9]+/g,"").length)l=null;else{l=1,i.delimiters.decimal!=="."&&(r=r.replace(/\./g,"").replace(i.delimiters.decimal,"."));for(o in n)if(u=new RegExp("[^a-zA-Z]"+i.abbreviations[o]+"(?:\\)|(\\"+i.currency.symbol+")?(?:\\))?)?$"),d.match(u)){l*=Math.pow(10,n[o]);break}l*=(r.split("-").length+Math.min(r.split("(").length-1,r.split(")").length-1))%2?1:-1,r=r.replace(/[^0-9\.]+/g,""),l*=Number(r)}return l},isNaN:function(r){return typeof r=="number"&&isNaN(r)},includes:function(r,i){return r.indexOf(i)!==-1},insert:function(r,i,d){return r.slice(0,d)+i+r.slice(d)},reduce:function(r,i){if(this===null)throw new TypeError("Array.prototype.reduce called on null or undefined");if(typeof i!="function")throw new TypeError(i+" is not a function");var d=Object(r),n=d.length>>>0,o=0,l;if(arguments.length===3)l=arguments[2];else{for(;o<n&&!(o in d);)o++;if(o>=n)throw new TypeError("Reduce of empty array with no initial value");l=d[o++]}for(;o<n;o++)o in d&&(l=i(l,d[o],o,d));return l},multiplier:function(r){var i=r.toString().split(".");return i.length<2?1:Math.pow(10,i[1].length)},correctionFactor:function(){var r=Array.prototype.slice.call(arguments);return r.reduce(function(i,d){var n=g.multiplier(d);return i>n?i:n},1)},toFixed:function(r,i,d,n){var o=r.toString().split("."),l=i-(n||0),u,c,$,v;return o.length===2?u=Math.min(Math.max(o[1].length,l),i):u=l,$=Math.pow(10,u),v=(d(r+"e+"+u)/$).toFixed(u),n>i-u&&(c=new RegExp("\\.?0{1,"+(n-(i-u))+"}$"),v=v.replace(c,"")),v}},s.options=m,s.formats=f,s.locales=w,s.locale=function(r){return r&&(m.currentLocale=r.toLowerCase()),m.currentLocale},s.localeData=function(r){if(!r)return w[m.currentLocale];if(r=r.toLowerCase(),!w[r])throw new Error("Unknown locale : "+r);return w[r]},s.reset=function(){for(var r in h)m[r]=h[r]},s.zeroFormat=function(r){m.zeroFormat=typeof r=="string"?r:null},s.nullFormat=function(r){m.nullFormat=typeof r=="string"?r:null},s.defaultFormat=function(r){m.defaultFormat=typeof r=="string"?r:"0.0"},s.register=function(r,i,d){if(i=i.toLowerCase(),this[r+"s"][i])throw new TypeError(i+" "+r+" already registered.");return this[r+"s"][i]=d,d},s.validate=function(r,i){var d,n,o,l,u,c,$,v;if(typeof r!="string"&&(r+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",r)),r=r.trim(),r.match(/^\d+$/))return!0;if(r==="")return!1;try{$=s.localeData(i)}catch{$=s.localeData(s.locale())}return o=$.currency.symbol,u=$.abbreviations,d=$.delimiters.decimal,$.delimiters.thousands==="."?n="\\.":n=$.delimiters.thousands,v=r.match(/^[^\d]+/),v!==null&&(r=r.substr(1),v[0]!==o)||(v=r.match(/[^\d]+$/),v!==null&&(r=r.slice(0,-1),v[0]!==u.thousand&&v[0]!==u.million&&v[0]!==u.billion&&v[0]!==u.trillion))?!1:(c=new RegExp(n+"{2}"),r.match(/[^\d.,]/g)?!1:(l=r.split(d),l.length>2?!1:l.length<2?!!l[0].match(/^\d+.*\d$/)&&!l[0].match(c):l[0].length===1?!!l[0].match(/^\d+$/)&&!l[0].match(c)&&!!l[1].match(/^\d+$/):!!l[0].match(/^\d+.*\d$/)&&!l[0].match(c)&&!!l[1].match(/^\d+$/)))},s.fn=D.prototype={clone:function(){return s(this)},format:function(r,i){var d=this._value,n=r||m.defaultFormat,o,l,u;if(i=i||Math.round,d===0&&m.zeroFormat!==null)l=m.zeroFormat;else if(d===null&&m.nullFormat!==null)l=m.nullFormat;else{for(o in f)if(n.match(f[o].regexps.format)){u=f[o].format;break}u=u||s._.numberToFormat,l=u(d,n,i)}return l},value:function(){return this._value},input:function(){return this._input},set:function(r){return this._value=Number(r),this},add:function(r){var i=g.correctionFactor.call(null,this._value,r);function d(n,o,l,u){return n+Math.round(i*o)}return this._value=g.reduce([this._value,r],d,0)/i,this},subtract:function(r){var i=g.correctionFactor.call(null,this._value,r);function d(n,o,l,u){return n-Math.round(i*o)}return this._value=g.reduce([r],d,Math.round(this._value*i))/i,this},multiply:function(r){function i(d,n,o,l){var u=g.correctionFactor(d,n);return Math.round(d*u)*Math.round(n*u)/Math.round(u*u)}return this._value=g.reduce([this._value,r],i,1),this},divide:function(r){function i(d,n,o,l){var u=g.correctionFactor(d,n);return Math.round(d*u)/Math.round(n*u)}return this._value=g.reduce([this._value,r],i),this},difference:function(r){return Math.abs(s(this._value).subtract(r).value())}},s.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(r){var i=r%10;return~~(r%100/10)===1?"th":i===1?"st":i===2?"nd":i===3?"rd":"th"},currency:{symbol:"$"}}),function(){s.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(r,i,d){var n=s._.includes(i," BPS")?" ":"",o;return r=r*1e4,i=i.replace(/\s?BPS/,""),o=s._.numberToFormat(r,i,d),s._.includes(o,")")?(o=o.split(""),o.splice(-1,0,n+"BPS"),o=o.join("")):o=o+n+"BPS",o},unformat:function(r){return+(s._.stringToNumber(r)*1e-4).toFixed(15)}})}(),function(){var r={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},i={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},d=r.suffixes.concat(i.suffixes.filter(function(o){return r.suffixes.indexOf(o)<0})),n=d.join("|");n="("+n.replace("B","B(?!PS)")+")",s.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(n)},format:function(o,l,u){var c,$=s._.includes(l,"ib")?i:r,v=s._.includes(l," b")||s._.includes(l," ib")?" ":"",y,A,S;for(l=l.replace(/\s?i?b/,""),y=0;y<=$.suffixes.length;y++)if(A=Math.pow($.base,y),S=Math.pow($.base,y+1),o===null||o===0||o>=A&&o<S){v+=$.suffixes[y],A>0&&(o=o/A);break}return c=s._.numberToFormat(o,l,u),c+v},unformat:function(o){var l=s._.stringToNumber(o),u,c;if(l){for(u=r.suffixes.length-1;u>=0;u--){if(s._.includes(o,r.suffixes[u])){c=Math.pow(r.base,u);break}if(s._.includes(o,i.suffixes[u])){c=Math.pow(i.base,u);break}}l*=c||1}return l}})}(),function(){s.register("format","currency",{regexps:{format:/(\$)/},format:function(r,i,d){var n=s.locales[s.options.currentLocale],o={before:i.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:i.match(/([\+|\-|\)|\s|\$]*)$/)[0]},l,u,c;for(i=i.replace(/\s?\$\s?/,""),l=s._.numberToFormat(r,i,d),r>=0?(o.before=o.before.replace(/[\-\(]/,""),o.after=o.after.replace(/[\-\)]/,"")):r<0&&!s._.includes(o.before,"-")&&!s._.includes(o.before,"(")&&(o.before="-"+o.before),c=0;c<o.before.length;c++)switch(u=o.before[c],u){case"$":l=s._.insert(l,n.currency.symbol,c);break;case" ":l=s._.insert(l," ",c+n.currency.symbol.length-1);break}for(c=o.after.length-1;c>=0;c--)switch(u=o.after[c],u){case"$":l=c===o.after.length-1?l+n.currency.symbol:s._.insert(l,n.currency.symbol,-(o.after.length-(1+c)));break;case" ":l=c===o.after.length-1?l+" ":s._.insert(l," ",-(o.after.length-(1+c)+n.currency.symbol.length-1));break}return l}})}(),function(){s.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(r,i,d){var n,o=typeof r=="number"&&!s._.isNaN(r)?r.toExponential():"0e+0",l=o.split("e");return i=i.replace(/e[\+|\-]{1}0/,""),n=s._.numberToFormat(Number(l[0]),i,d),n+"e"+l[1]},unformat:function(r){var i=s._.includes(r,"e+")?r.split("e+"):r.split("e-"),d=Number(i[0]),n=Number(i[1]);n=s._.includes(r,"e-")?n*=-1:n;function o(l,u,c,$){var v=s._.correctionFactor(l,u),y=l*v*(u*v)/(v*v);return y}return s._.reduce([d,Math.pow(10,n)],o,1)}})}(),function(){s.register("format","ordinal",{regexps:{format:/(o)/},format:function(r,i,d){var n=s.locales[s.options.currentLocale],o,l=s._.includes(i," o")?" ":"";return i=i.replace(/\s?o/,""),l+=n.ordinal(r),o=s._.numberToFormat(r,i,d),o+l}})}(),function(){s.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(r,i,d){var n=s._.includes(i," %")?" ":"",o;return s.options.scalePercentBy100&&(r=r*100),i=i.replace(/\s?\%/,""),o=s._.numberToFormat(r,i,d),s._.includes(o,")")?(o=o.split(""),o.splice(-1,0,n+"%"),o=o.join("")):o=o+n+"%",o},unformat:function(r){var i=s._.stringToNumber(r);return s.options.scalePercentBy100?i*.01:i}})}(),function(){s.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(r,i,d){var n=Math.floor(r/60/60),o=Math.floor((r-n*60*60)/60),l=Math.round(r-n*60*60-o*60);return n+":"+(o<10?"0"+o:o)+":"+(l<10?"0"+l:l)},unformat:function(r){var i=r.split(":"),d=0;return i.length===3?(d=d+Number(i[0])*60*60,d=d+Number(i[1])*60,d=d+Number(i[2])):i.length===2&&(d=d+Number(i[0])*60,d=d+Number(i[1])),Number(d)}})}(),s})})(Y);var ot=Y.exports;const U=Z(ot),nt=V({compatConfig:{MODE:3},name:"JhiMetricsModal",props:{threadDump:{type:Array}},setup(t){const s=P(""),g=G(()=>at(t.threadDump,{filterByTerm:s.value})),_=G(()=>{const f={threadDumpAll:0,threadDumpBlocked:0,threadDumpRunnable:0,threadDumpTimedWaiting:0,threadDumpWaiting:0};return t.threadDump&&(t.threadDump.forEach(w=>{w.threadState==="RUNNABLE"?f.threadDumpRunnable+=1:w.threadState==="WAITING"?f.threadDumpWaiting+=1:w.threadState==="TIMED_WAITING"?f.threadDumpTimedWaiting+=1:w.threadState==="BLOCKED"&&(f.threadDumpBlocked+=1)}),f.threadDumpAll=f.threadDumpRunnable+f.threadDumpWaiting+f.threadDumpTimedWaiting+f.threadDumpBlocked),f});return{threadDumpFilter:s,threadDumpData:_,filteredThreadDump:g,t$:J().t}},methods:{getBadgeClass(t){if(t==="RUNNABLE")return"badge-success";if(t==="WAITING")return"badge-info";if(t==="TIMED_WAITING")return"badge-warning";if(t==="BLOCKED")return"badge-danger"}}}),lt={class:"modal-body"},dt={class:"badge badge-pill badge-default"},ut={class:"badge badge-pill badge-default"},ct={class:"badge badge-pill badge-default"},mt={class:"badge badge-pill badge-default"},ht={class:"badge badge-pill badge-default"},pt=["onClick"],bt=["hidden","textContent"],ft=["hidden","textContent"],gt=["hidden"],vt={class:"card-body"},Ct={class:"table table-sm table-responsive","aria-describedby":"Metrics"},Nt=["textContent"],Dt=["textContent"],$t=["textContent"],Mt=["textContent"],wt=["textContent"],kt=["title"];function yt(t,s,g,_,f,w){return p(),b("div",lt,[e("span",{class:"badge badge-primary",onClick:s[0]||(s[0]=h=>t.threadDumpFilter="")},[s[6]||(s[6]=N("All ")),e("span",dt,a(t.threadDumpData.threadDumpAll),1)]),s[13]||(s[13]=N("  ")),e("span",{class:"badge badge-success",onClick:s[1]||(s[1]=h=>t.threadDumpFilter="RUNNABLE")},[s[7]||(s[7]=N("Runnable ")),e("span",ut,a(t.threadDumpData.threadDumpRunnable),1)]),s[14]||(s[14]=N("  ")),e("span",{class:"badge badge-info",onClick:s[2]||(s[2]=h=>t.threadDumpFilter="WAITING")},[s[8]||(s[8]=N("Waiting ")),e("span",ct,a(t.threadDumpData.threadDumpWaiting),1)]),s[15]||(s[15]=N("  ")),e("span",{class:"badge badge-warning",onClick:s[3]||(s[3]=h=>t.threadDumpFilter="TIMED_WAITING")},[s[9]||(s[9]=N("Timed Waiting ")),e("span",mt,a(t.threadDumpData.threadDumpTimedWaiting),1)]),s[16]||(s[16]=N("  ")),e("span",{class:"badge badge-danger",onClick:s[4]||(s[4]=h=>t.threadDumpFilter="BLOCKED")},[s[10]||(s[10]=N("Blocked ")),e("span",ht,a(t.threadDumpData.threadDumpBlocked),1)]),s[17]||(s[17]=N("  ")),s[18]||(s[18]=e("div",{class:"mt-2"}," ",-1)),s[19]||(s[19]=N(" Filter ")),H(e("input",{type:"text","onUpdate:modelValue":s[5]||(s[5]=h=>t.threadDumpFilter=h),class:"form-control"},null,512),[[X,t.threadDumpFilter]]),(p(!0),b(x,null,I(t.filteredThreadDump,(h,m)=>(p(),b("div",{class:"pad",key:m},[e("h6",null,[e("span",{class:tt(["badge",t.getBadgeClass(h.threadState)])},a(h.threadState),3),N(" "+a(h.threadName)+" (ID "+a(h.threadId)+") ",1),e("a",{onClick:D=>h.show=!h.show,href:"javascript:void(0);"},[e("span",{hidden:h.show,textContent:a(t.t$("metrics.jvm.threads.dump.show"))},null,8,bt),e("span",{hidden:!h.show,textContent:a(t.t$("metrics.jvm.threads.dump.hide"))},null,8,ft)],8,pt)]),e("div",{class:"card",hidden:!h.show},[e("div",vt,[(p(!0),b(x,null,I(h.stackTrace,(D,r)=>(p(),b("div",{key:r,class:"break"},[e("samp",null,[N(a(D.className)+"."+a(D.methodName)+"(",1),e("code",null,a(D.fileName)+":"+a(D.lineNumber),1),s[11]||(s[11]=N(")"))]),s[12]||(s[12]=e("span",{class:"mt-1"},null,-1))]))),128))])],8,gt),e("table",Ct,[e("thead",null,[e("tr",null,[e("th",{textContent:a(t.t$("metrics.jvm.threads.dump.blockedtime")),scope:"col"},null,8,Nt),e("th",{textContent:a(t.t$("metrics.jvm.threads.dump.blockedcount")),scope:"col"},null,8,Dt),e("th",{textContent:a(t.t$("metrics.jvm.threads.dump.waitedtime")),scope:"col"},null,8,$t),e("th",{textContent:a(t.t$("metrics.jvm.threads.dump.waitedcount")),scope:"col"},null,8,Mt),e("th",{textContent:a(t.t$("metrics.jvm.threads.dump.lockname")),scope:"col"},null,8,wt)])]),e("tbody",null,[e("tr",null,[e("td",null,a(h.blockedTime),1),e("td",null,a(h.blockedCount),1),e("td",null,a(h.waitedTime),1),e("td",null,a(h.waitedCount),1),e("td",{class:"thread-dump-modal-lock",title:h.lockName},[e("code",null,a(h.lockName),1)],8,kt)])])])]))),128))])}const St=K(nt,[["render",yt]]);class Ft{getMetrics(){return q.get("management/jhimetrics")}retrieveThreadDump(){return q.get("management/threaddump")}}const jt=V({compatConfig:{MODE:3},name:"JhiMetrics",components:{"metrics-modal":St},setup(){const{formatDate:t}=it(),s=et("metricsService",()=>new Ft,!0),g=P({}),_=P(null),f=P({}),w=P(!0);return{metricsService:s,metrics:g,threadData:_,threadStats:f,updatingMetrics:w,formatDate:t,t$:J().t}},mounted(){this.refresh()},methods:{refresh(){return this.metricsService.getMetrics().then(t=>{this.metrics=t.data,this.metricsService.retrieveThreadDump().then(s=>{this.updatingMetrics=!0,this.threadData=s.data.threads,this.threadStats={threadDumpRunnable:0,threadDumpWaiting:0,threadDumpTimedWaiting:0,threadDumpBlocked:0,threadDumpAll:0},this.threadData.forEach(g=>{g.threadState==="RUNNABLE"?this.threadStats.threadDumpRunnable+=1:g.threadState==="WAITING"?this.threadStats.threadDumpWaiting+=1:g.threadState==="TIMED_WAITING"?this.threadStats.threadDumpTimedWaiting+=1:g.threadState==="BLOCKED"&&(this.threadStats.threadDumpBlocked+=1)}),this.threadStats.threadDumpAll=this.threadStats.threadDumpRunnable+this.threadStats.threadDumpWaiting+this.threadStats.threadDumpTimedWaiting+this.threadStats.threadDumpBlocked,this.updatingMetrics=!1}).catch(()=>{this.updatingMetrics=!0})}).catch(()=>{this.updatingMetrics=!0})},openModal(){this.$refs.metricsModal.show&&this.$refs.metricsModal.show()},filterNaN(t){return isNaN(t)?0:t},formatNumber1(t){return U(t).format("0,0")},formatNumber2(t){return U(t).format("0,00")},convertMillisecondsToDuration(t){const s={year:315576e5,month:2629746e3,day:864e5,hour:36e5,minute:6e4,second:1e3};let g="",_="";for(const f in s)Math.floor(t/s[f])>0&&(Math.floor(t/s[f])>1?_="s":_="",g+=`${Math.floor(t/s[f])} ${f}${_} `,t=t-s[f]*Math.floor(t/s[f]));return g},isObjectExisting(t,s){return t&&t[s]},isObjectExistingAndNotEmpty(t,s){return this.isObjectExisting(t,s)&&JSON.stringify(t[s])!=="{}"}}}),_t=["textContent"],Bt=["textContent"],Tt=["textContent"],Et={key:0,class:"row"},xt={class:"col-md-4"},At=["textContent"],It={key:0},Wt={key:1},Ot={class:"col-md-4"},Pt=["textContent"],Lt=["textContent"],Rt=["textContent"],zt=["textContent"],Gt=["textContent"],qt={class:"col-md-4"},Ut={key:0,class:"row"},Vt={class:"col-md-8 text-right"},Jt={key:1,class:"row"},Kt={class:"col-md-8 text-right"},Ht={key:2,class:"row"},Yt={class:"col-md-3 text-right"},Zt={key:3,class:"row"},Qt={class:"col-md-3 text-right"},Xt={key:4,class:"row"},te={class:"col-md-3 text-right"},ee={key:5,class:"row"},se={class:"col-md-3 text-right"},re={key:6,class:"row"},ae={class:"col-md-3 text-right"},ie={key:7,class:"row"},oe={class:"col-md-3 text-right"},ne=["textContent"],le={key:1,class:"row"},de={class:"col-md-4"},ue={class:"col-md-4"},ce={class:"col-md-4"},me={class:"row"},he={class:"col-md-3 text-right"},pe={class:"row"},be={class:"col-md-3 text-right"},fe={class:"table-responsive"},ge={class:"table table-striped","aria-describedby":"Jvm gc"},ve=["textContent"],Ce=["textContent"],Ne=["textContent"],De=["textContent"],$e=["textContent"],Me=["textContent"],we=["textContent"],ke=["textContent"],ye={class:"text-right"},Se={class:"text-right"},Fe={class:"text-right"},je={class:"text-right"},_e={class:"text-right"},Be={class:"text-right"},Te={class:"text-right"},Ee={class:"text-right"},xe=["textContent"],Ae={key:2,class:"table table-striped","aria-describedby":"Jvm http"},Ie=["textContent"],We=["textContent"],Oe=["textContent"],Pe=["textContent"],Le={class:"text-right"},Re={class:"text-right"},ze={key:3,class:"table-responsive"},Ge={class:"table table-striped","aria-describedby":"Endpoint"},qe={class:"text-right"},Ue={class:"text-right"},Ve=["textContent"],Je={key:4,class:"table-responsive"},Ke={class:"table table-striped","aria-describedby":"Cache"},He=["textContent"],Ye={class:"text-right"},Ze={class:"text-right"},Qe={class:"text-right"},Xe={class:"text-right"},ts={class:"text-right"},es={class:"text-right"},ss={class:"text-right"},rs={class:"text-right"},as=["textContent"],is={key:5,class:"table-responsive"},os={class:"table table-striped","aria-describedby":"Connection pool"},ns={scope:"col"},ls=["textContent"],ds=["textContent"],us=["textContent"],cs=["textContent"],ms=["textContent"],hs=["textContent"],ps=["textContent"],bs=["textContent"],fs=["textContent"],gs={class:"text-right"},vs={class:"text-right"},Cs={class:"text-right"},Ns={class:"text-right"},Ds={class:"text-right"},$s={class:"text-right"},Ms={class:"text-right"},ws={class:"text-right"},ks={class:"text-right"},ys={class:"text-right"},Ss={class:"text-right"},Fs={class:"text-right"},js={class:"text-right"},_s={class:"text-right"},Bs={class:"text-right"},Ts={class:"text-right"},Es={class:"text-right"},xs={class:"text-right"},As={class:"text-right"},Is={class:"text-right"},Ws={class:"text-right"},Os={class:"text-right"},Ps={class:"text-right"},Ls={class:"text-right"},Rs=["textContent"];function zs(t,s,g,_,f,w){const h=O("font-awesome-icon"),m=O("b-progress-bar"),D=O("b-progress"),r=O("metrics-modal"),i=O("b-modal"),d=st("b-modal");return p(),b("div",null,[e("h2",null,[e("span",{id:"metrics-page-heading",textContent:a(t.t$("metrics.title")),"data-cy":"metricsPageHeading"},null,8,_t),e("button",{class:"btn btn-primary float-right",onClick:s[0]||(s[0]=n=>t.refresh())},[C(h,{icon:"sync"}),s[2]||(s[2]=N()),e("span",{textContent:a(t.t$("metrics['refresh.button']"))},null,8,Bt)])]),e("h3",{textContent:a(t.t$("metrics.jvm.title"))},null,8,Tt),t.updatingMetrics?k("",!0):(p(),b("div",Et,[e("div",xt,[e("h4",{textContent:a(t.t$("metrics.jvm.memory.title"))},null,8,At),e("div",null,[(p(!0),b(x,null,I(t.metrics.jvm,(n,o)=>(p(),b("div",{key:o},[n.max!==-1?(p(),b("span",It,[e("span",null,a(o),1),N(" ("+a(t.formatNumber1(n.used/1048576))+"M / "+a(t.formatNumber1(n.max/1048576))+"M) ",1)])):(p(),b("span",Wt,[e("span",null,a(o),1),N(" "+a(t.formatNumber1(n.used/1048576))+"M ",1)])),e("div",null,"Committed : "+a(t.formatNumber1(n.committed/1048576))+"M",1),n.max!==-1?(p(),rt(D,{key:2,variant:"success",animated:"",max:n.max,striped:""},{default:j(()=>[C(m,{value:n.used,label:t.formatNumber1(n.used*100/n.max)+"%"},null,8,["value","label"])]),_:2},1032,["max"])):k("",!0)]))),128))])]),e("div",Ot,[e("h4",{textContent:a(t.t$("metrics.jvm.threads.title"))},null,8,Pt),e("span",null,[e("span",{textContent:a(t.t$("metrics.jvm.threads.runnable"))},null,8,Lt),N(" "+a(t.threadStats.threadDumpRunnable),1)]),C(D,{variant:"success",max:t.threadStats.threadDumpAll,striped:""},{default:j(()=>[C(m,{value:t.threadStats.threadDumpRunnable,label:t.formatNumber1(t.threadStats.threadDumpRunnable*100/t.threadStats.threadDumpAll)+"%"},null,8,["value","label"])]),_:1},8,["max"]),e("span",null,[e("span",{textContent:a(t.t$("metrics.jvm.threads.timedwaiting"))},null,8,Rt),N(" ("+a(t.threadStats.threadDumpTimedWaiting)+")",1)]),C(D,{variant:"success",max:t.threadStats.threadDumpAll,striped:""},{default:j(()=>[C(m,{value:t.threadStats.threadDumpTimedWaiting,label:t.formatNumber1(t.threadStats.threadDumpTimedWaiting*100/t.threadStats.threadDumpAll)+"%"},null,8,["value","label"])]),_:1},8,["max"]),e("span",null,[e("span",{textContent:a(t.t$("metrics.jvm.threads.waiting"))},null,8,zt),N(" ("+a(t.threadStats.threadDumpWaiting)+")",1)]),C(D,{variant:"success",max:t.threadStats.threadDumpAll,striped:""},{default:j(()=>[C(m,{value:t.threadStats.threadDumpWaiting,label:t.formatNumber1(t.threadStats.threadDumpWaiting*100/t.threadStats.threadDumpAll)+"%"},null,8,["value","label"])]),_:1},8,["max"]),e("span",null,[e("span",{textContent:a(t.t$("metrics.jvm.threads.blocked"))},null,8,Gt),N(" ("+a(t.threadStats.threadDumpBlocked)+")",1)]),C(D,{variant:"success",max:t.threadStats.threadDumpAll,striped:""},{default:j(()=>[C(m,{value:t.threadStats.threadDumpBlocked,label:t.formatNumber1(t.threadStats.threadDumpBlocked*100/t.threadStats.threadDumpAll)+"%"},null,8,["value","label"])]),_:1},8,["max"]),e("span",null,[N("Total: "+a(t.threadStats.threadDumpAll)+" ",1),H((p(),b("a",{class:"hand","data-toggle":"modal",onClick:s[1]||(s[1]=n=>t.openModal()),"data-target":"#threadDump"},[C(h,{icon:"eye"})])),[[d,void 0,void 0,{metricsModal:!0}]])])]),e("div",qt,[s[11]||(s[11]=e("h4",null,"System",-1)),t.updatingMetrics?k("",!0):(p(),b("div",Ut,[s[3]||(s[3]=e("div",{class:"col-md-4"},"Uptime",-1)),e("div",Vt,a(t.convertMillisecondsToDuration(t.metrics.processMetrics["process.uptime"])),1)])),t.updatingMetrics?k("",!0):(p(),b("div",Jt,[s[4]||(s[4]=e("div",{class:"col-md-4"},"Start time",-1)),e("div",Kt,a(t.formatDate(t.metrics.processMetrics["process.start.time"])),1)])),t.updatingMetrics?k("",!0):(p(),b("div",Ht,[s[5]||(s[5]=e("div",{class:"col-md-9"},"Process CPU usage",-1)),e("div",Yt,a(t.formatNumber2(100*t.metrics.processMetrics["process.cpu.usage"]))+" %",1)])),C(D,{variant:"success",max:100,striped:""},{default:j(()=>[C(m,{value:100*t.metrics.processMetrics["process.cpu.usage"],label:t.formatNumber1(100*t.metrics.processMetrics["process.cpu.usage"])+"%"},null,8,["value","label"])]),_:1}),t.updatingMetrics?k("",!0):(p(),b("div",Zt,[s[6]||(s[6]=e("div",{class:"col-md-9"},"System CPU usage",-1)),e("div",Qt,a(t.formatNumber2(100*t.metrics.processMetrics["system.cpu.usage"]))+" %",1)])),C(D,{variant:"success",max:100,striped:""},{default:j(()=>[C(m,{value:100*t.metrics.processMetrics["system.cpu.usage"],label:t.formatNumber1(100*t.metrics.processMetrics["system.cpu.usage"])+"%"},null,8,["value","label"])]),_:1}),t.updatingMetrics?k("",!0):(p(),b("div",Xt,[s[7]||(s[7]=e("div",{class:"col-md-9"},"System CPU count",-1)),e("div",te,a(t.metrics.processMetrics["system.cpu.count"]),1)])),t.updatingMetrics?k("",!0):(p(),b("div",ee,[s[8]||(s[8]=e("div",{class:"col-md-9"},"System 1m Load average",-1)),e("div",se,a(t.formatNumber2(t.metrics.processMetrics["system.load.average.1m"])),1)])),t.updatingMetrics?k("",!0):(p(),b("div",re,[s[9]||(s[9]=e("div",{class:"col-md-9"},"Process files max",-1)),e("div",ae,a(t.formatNumber1(t.metrics.processMetrics["process.files.max"])),1)])),t.updatingMetrics?k("",!0):(p(),b("div",ie,[s[10]||(s[10]=e("div",{class:"col-md-9"},"Process files open",-1)),e("div",oe,a(t.formatNumber1(t.metrics.processMetrics["process.files.open"])),1)]))])])),e("h3",{textContent:a(t.t$("metrics.jvm.gc.title"))},null,8,ne),!t.updatingMetrics&&t.isObjectExisting(t.metrics,"garbageCollector")?(p(),b("div",le,[e("div",de,[e("div",null,[e("span",null," GC Live Data Size/GC Max Data Size ("+a(t.formatNumber1(t.metrics.garbageCollector["jvm.gc.live.data.size"]/1048576))+"M / "+a(t.formatNumber1(t.metrics.garbageCollector["jvm.gc.max.data.size"]/1048576))+"M) ",1),C(D,{variant:"success",max:t.metrics.garbageCollector["jvm.gc.max.data.size"],striped:""},{default:j(()=>[C(m,{value:t.metrics.garbageCollector["jvm.gc.live.data.size"],label:t.formatNumber2(100*t.metrics.garbageCollector["jvm.gc.live.data.size"]/t.metrics.garbageCollector["jvm.gc.max.data.size"])+"%"},null,8,["value","label"])]),_:1},8,["max"])])]),e("div",ue,[e("div",null,[e("span",null," GC Memory Promoted/GC Memory Allocated ("+a(t.formatNumber1(t.metrics.garbageCollector["jvm.gc.memory.promoted"]/1048576))+"M / "+a(t.formatNumber1(t.metrics.garbageCollector["jvm.gc.memory.allocated"]/1048576))+"M) ",1),C(D,{variant:"success",max:t.metrics.garbageCollector["jvm.gc.memory.allocated"],striped:""},{default:j(()=>[C(m,{value:t.metrics.garbageCollector["jvm.gc.memory.promoted"],label:t.formatNumber2(100*t.metrics.garbageCollector["jvm.gc.memory.promoted"]/t.metrics.garbageCollector["jvm.gc.memory.allocated"])+"%"},null,8,["value","label"])]),_:1},8,["max"])])]),e("div",ce,[e("div",me,[s[12]||(s[12]=e("div",{class:"col-md-9"},"Classes loaded",-1)),e("div",he,a(t.metrics.garbageCollector.classesLoaded),1)]),e("div",pe,[s[13]||(s[13]=e("div",{class:"col-md-9"},"Classes unloaded",-1)),e("div",be,a(t.metrics.garbageCollector.classesUnloaded),1)])]),e("div",fe,[e("table",ge,[e("thead",null,[e("tr",null,[s[14]||(s[14]=e("th",{scope:"col"},null,-1)),e("th",{scope:"col",class:"text-right",textContent:a(t.t$("metrics.servicesstats.table.count"))},null,8,ve),e("th",{scope:"col",class:"text-right",textContent:a(t.t$("metrics.servicesstats.table.mean"))},null,8,Ce),e("th",{scope:"col",class:"text-right",textContent:a(t.t$("metrics.servicesstats.table.min"))},null,8,Ne),e("th",{scope:"col",class:"text-right",textContent:a(t.t$("metrics.servicesstats.table.p50"))},null,8,De),e("th",{scope:"col",class:"text-right",textContent:a(t.t$("metrics.servicesstats.table.p75"))},null,8,$e),e("th",{scope:"col",class:"text-right",textContent:a(t.t$("metrics.servicesstats.table.p95"))},null,8,Me),e("th",{scope:"col",class:"text-right",textContent:a(t.t$("metrics.servicesstats.table.p99"))},null,8,we),e("th",{scope:"col",class:"text-right",textContent:a(t.t$("metrics.servicesstats.table.max"))},null,8,ke)])]),e("tbody",null,[e("tr",null,[s[15]||(s[15]=e("td",null,"jvm.gc.pause",-1)),e("td",ye,a(t.metrics.garbageCollector["jvm.gc.pause"].count),1),e("td",Se,a(t.formatNumber2(t.metrics.garbageCollector["jvm.gc.pause"].mean)),1),e("td",Fe,a(t.formatNumber2(t.metrics.garbageCollector["jvm.gc.pause"]["0.0"])),1),e("td",je,a(t.formatNumber2(t.metrics.garbageCollector["jvm.gc.pause"]["0.5"])),1),e("td",_e,a(t.formatNumber2(t.metrics.garbageCollector["jvm.gc.pause"]["0.75"])),1),e("td",Be,a(t.formatNumber2(t.metrics.garbageCollector["jvm.gc.pause"]["0.95"])),1),e("td",Te,a(t.formatNumber2(t.metrics.garbageCollector["jvm.gc.pause"]["0.99"])),1),e("td",Ee,a(t.formatNumber2(t.metrics.garbageCollector["jvm.gc.pause"].max)),1)])])])])])):k("",!0),e("h3",{textContent:a(t.t$("metrics.jvm.http.title"))},null,8,xe),!t.updatingMetrics&&t.isObjectExisting(t.metrics,"http.server.requests")?(p(),b("table",Ae,[e("thead",null,[e("tr",null,[e("th",{scope:"col",textContent:a(t.t$("metrics.jvm.http.table.code"))},null,8,Ie),e("th",{scope:"col",textContent:a(t.t$("metrics.jvm.http.table.count"))},null,8,We),e("th",{scope:"col",class:"text-right",textContent:a(t.t$("metrics.jvm.http.table.mean"))},null,8,Oe),e("th",{scope:"col",class:"text-right",textContent:a(t.t$("metrics.jvm.http.table.max"))},null,8,Pe)])]),e("tbody",null,[(p(!0),b(x,null,I(t.metrics["http.server.requests"].percode,(n,o)=>(p(),b("tr",{key:o},[e("td",null,a(o),1),e("td",null,[C(D,{variant:"success",animated:"",max:t.metrics["http.server.requests"].all.count,striped:""},{default:j(()=>[C(m,{value:n.count,label:t.formatNumber1(n.count)},null,8,["value","label"])]),_:2},1032,["max"])]),e("td",Le,a(t.formatNumber2(t.filterNaN(n.mean))),1),e("td",Re,a(t.formatNumber2(n.max)),1)]))),128))])])):k("",!0),s[28]||(s[28]=e("h3",null,"Endpoints requests (time in millisecond)",-1)),t.updatingMetrics?k("",!0):(p(),b("div",ze,[e("table",Ge,[s[16]||(s[16]=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"Method"),e("th",{scope:"col"},"Endpoint url"),e("th",{scope:"col",class:"text-right"},"Count"),e("th",{scope:"col",class:"text-right"},"Mean")])],-1)),e("tbody",null,[(p(!0),b(x,null,I(t.metrics.services,(n,o)=>(p(),b(x,null,[(p(!0),b(x,null,I(n,(l,u)=>(p(),b("tr",{key:o+"-"+u},[e("td",null,a(u),1),e("td",null,a(o),1),e("td",qe,a(l.count),1),e("td",Ue,a(t.formatNumber2(l.mean)),1)]))),128))],64))),256))])])])),e("h3",{textContent:a(t.t$("metrics.cache.title"))},null,8,Ve),!t.updatingMetrics&&t.isObjectExisting(t.metrics,"cache")?(p(),b("div",Je,[e("table",Ke,[e("thead",null,[e("tr",null,[e("th",{scope:"col",textContent:a(t.t$("metrics.cache.cachename"))},null,8,He),s[17]||(s[17]=e("th",{scope:"col",class:"text-right","data-translate":"metrics.cache.hits"},"Cache Hits",-1)),s[18]||(s[18]=e("th",{scope:"col",class:"text-right","data-translate":"metrics.cache.misses"},"Cache Misses",-1)),s[19]||(s[19]=e("th",{scope:"col",class:"text-right","data-translate":"metrics.cache.gets"},"Cache Gets",-1)),s[20]||(s[20]=e("th",{scope:"col",class:"text-right","data-translate":"metrics.cache.puts"},"Cache Puts",-1)),s[21]||(s[21]=e("th",{scope:"col",class:"text-right","data-translate":"metrics.cache.removals"},"Cache Removals",-1)),s[22]||(s[22]=e("th",{scope:"col",class:"text-right","data-translate":"metrics.cache.evictions"},"Cache Evictions",-1)),s[23]||(s[23]=e("th",{scope:"col",class:"text-right","data-translate":"metrics.cache.hitPercent"},"Cache Hit %",-1)),s[24]||(s[24]=e("th",{scope:"col",class:"text-right","data-translate":"metrics.cache.missPercent"},"Cache Miss %",-1))])]),e("tbody",null,[(p(!0),b(x,null,I(t.metrics.cache,(n,o)=>(p(),b("tr",{key:o},[e("td",null,a(o),1),e("td",Ye,a(n["cache.gets.hit"]),1),e("td",Ze,a(n["cache.gets.miss"]),1),e("td",Qe,a(n["cache.gets.hit"]+n["cache.gets.miss"]),1),e("td",Xe,a(n["cache.puts"]),1),e("td",ts,a(n["cache.removals"]),1),e("td",es,a(n["cache.evictions"]),1),e("td",ss,a(t.formatNumber2(t.filterNaN(100*n["cache.gets.hit"]/(n["cache.gets.hit"]+n["cache.gets.miss"])))),1),e("td",rs,a(t.formatNumber2(t.filterNaN(100*n["cache.gets.miss"]/(n["cache.gets.hit"]+n["cache.gets.miss"])))),1)]))),128))])])])):k("",!0),e("h3",{textContent:a(t.t$("metrics.datasource.title"))},null,8,as),!t.updatingMetrics&&t.isObjectExistingAndNotEmpty(t.metrics,"databases")?(p(),b("div",is,[e("table",os,[e("thead",null,[e("tr",null,[e("th",ns,[e("span",{textContent:a(t.t$("metrics.datasource.usage"))},null,8,ls),N(" (active: "+a(t.metrics.databases.active.value)+", min: "+a(t.metrics.databases.min.value)+", max: "+a(t.metrics.databases.max.value)+", idle: "+a(t.metrics.databases.idle.value)+") ",1)]),e("th",{scope:"col",class:"text-right",textContent:a(t.t$("metrics.datasource.count"))},null,8,ds),e("th",{scope:"col",class:"text-right",textContent:a(t.t$("metrics.datasource.mean"))},null,8,us),e("th",{scope:"col",class:"text-right",textContent:a(t.t$("metrics.servicesstats.table.min"))},null,8,cs),e("th",{scope:"col",class:"text-right",textContent:a(t.t$("metrics.servicesstats.table.p50"))},null,8,ms),e("th",{scope:"col",class:"text-right",textContent:a(t.t$("metrics.servicesstats.table.p75"))},null,8,hs),e("th",{scope:"col",class:"text-right",textContent:a(t.t$("metrics.servicesstats.table.p95"))},null,8,ps),e("th",{scope:"col",class:"text-right",textContent:a(t.t$("metrics.servicesstats.table.p99"))},null,8,bs),e("th",{scope:"col",class:"text-right",textContent:a(t.t$("metrics.datasource.max"))},null,8,fs)])]),e("tbody",null,[e("tr",null,[s[25]||(s[25]=e("td",null,"Acquire",-1)),e("td",gs,a(t.metrics.databases.acquire.count),1),e("td",vs,a(t.formatNumber2(t.filterNaN(t.metrics.databases.acquire.mean))),1),e("td",Cs,a(t.formatNumber2(t.metrics.databases.acquire["0.0"])),1),e("td",Ns,a(t.formatNumber2(t.metrics.databases.acquire["0.5"])),1),e("td",Ds,a(t.formatNumber2(t.metrics.databases.acquire["0.75"])),1),e("td",$s,a(t.formatNumber2(t.metrics.databases.acquire["0.95"])),1),e("td",Ms,a(t.formatNumber2(t.metrics.databases.acquire["0.99"])),1),e("td",ws,a(t.formatNumber2(t.filterNaN(t.metrics.databases.acquire.max))),1)]),e("tr",null,[s[26]||(s[26]=e("td",null,"Creation",-1)),e("td",ks,a(t.metrics.databases.creation.count),1),e("td",ys,a(t.formatNumber2(t.filterNaN(t.metrics.databases.creation.mean))),1),e("td",Ss,a(t.formatNumber2(t.metrics.databases.creation["0.0"])),1),e("td",Fs,a(t.formatNumber2(t.metrics.databases.creation["0.5"])),1),e("td",js,a(t.formatNumber2(t.metrics.databases.creation["0.75"])),1),e("td",_s,a(t.formatNumber2(t.metrics.databases.creation["0.95"])),1),e("td",Bs,a(t.formatNumber2(t.metrics.databases.creation["0.99"])),1),e("td",Ts,a(t.formatNumber2(t.filterNaN(t.metrics.databases.creation.max))),1)]),e("tr",null,[s[27]||(s[27]=e("td",null,"Usage",-1)),e("td",Es,a(t.metrics.databases.usage.count),1),e("td",xs,a(t.formatNumber2(t.filterNaN(t.metrics.databases.usage.mean))),1),e("td",As,a(t.formatNumber2(t.metrics.databases.usage["0.0"])),1),e("td",Is,a(t.formatNumber2(t.metrics.databases.usage["0.5"])),1),e("td",Ws,a(t.formatNumber2(t.metrics.databases.usage["0.75"])),1),e("td",Os,a(t.formatNumber2(t.metrics.databases.usage["0.95"])),1),e("td",Ps,a(t.formatNumber2(t.metrics.databases.usage["0.99"])),1),e("td",Ls,a(t.formatNumber2(t.filterNaN(t.metrics.databases.usage.max))),1)])])])])):k("",!0),C(i,{ref:"metricsModal",size:"lg"},{"modal-title":j(()=>[e("h4",{class:"modal-title",id:"showMetricsLabel",textContent:a(t.t$("metrics.jvm.threads.dump.title"))},null,8,Rs)]),default:j(()=>[C(r,{"thread-dump":t.threadData},null,8,["thread-dump"])]),_:1},512)])}const Vs=K(jt,[["render",zs]]);export{Vs as default};
