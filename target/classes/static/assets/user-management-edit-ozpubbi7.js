import{d as V,m as D,u as T,n as k,r as N,D as q,a as E,_ as K,e as z,g as o,i as t,s as B,t as a,j as r,v as g,$ as y,q as l,a4 as F,a1 as S,Y as M,a2 as L,h as U,k as w,f as i}from"./app-sWctXk48.js";import{u as H}from"./index-DPq3GusL.js";import{r as x,a as A,e as I,m as j}from"./index-BbpDxnmj.js";import{U as Z}from"./user-management.service-BI5UKYeA.js";import{u as O}from"./alert.service-B_Xn3uRW.js";class R{constructor(n,h,u,$,c,d,s,m,C,p,f,v,b){this.id=n,this.login=h,this.firstName=u,this.lastName=$,this.email=c,this.activated=d,this.langKey=s,this.authorities=m,this.createdBy=C,this.createdDate=p,this.lastModifiedBy=f,this.lastModifiedDate=v,this.password=b}}const J=e=>e?/^[a-zA-Z0-9!$&*+=?^_`{|}~.-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$|^[_.@A-Za-z0-9-]+$/.test(e):!0,Y={userAccount:{login:{required:x,maxLength:A(254),pattern:J},firstName:{maxLength:A(50)},lastName:{maxLength:A(50)},email:{required:x,email:I,minLength:j(5),maxLength:A(50)}}},G=V({compatConfig:{MODE:3},name:"JhiUserManagementEdit",validations:Y,setup(){var f;const e=D(),n=T(),h=k("alertService",()=>O(),!0),u=k("userManagementService",()=>new Z,!0),$=()=>n.go(-1),c=N({...new R,authorities:[]}),d=N(!1),s=N([]),m=async()=>{const v=await u.retrieveAuthorities();s.value=v.data},C=async v=>{const b=await u.get(v);c.value=b.data};m();const p=(f=e.params)==null?void 0:f.userId;return p&&C(p),{alertService:h,userAccount:c,isSaving:d,authorities:s,userManagementService:u,previousState:$,v$:H(),languages:q(),t$:E().t}},methods:{save(){this.isSaving=!0,this.userAccount.id?this.userManagementService.update(this.userAccount).then(e=>{this.returnToList(),this.alertService.showInfo(this.getToastMessageFromHeader(e))}).catch(e=>{this.isSaving=!0,this.alertService.showHttpError(e.response)}):this.userManagementService.create(this.userAccount).then(e=>{this.returnToList(),this.alertService.showSuccess(this.getToastMessageFromHeader(e))}).catch(e=>{this.isSaving=!0,this.alertService.showHttpError(e.response)})},returnToList(){this.isSaving=!1,this.previousState()},getToastMessageFromHeader(e){return this.t$(e.headers["x-yfcx123app-alert"],{param:decodeURIComponent(e.headers["x-yfcx123app-params"].replace(/\+/g," "))}).toString()}}}),P={class:"row justify-content-center"},Q={class:"col-8"},W=["textContent"],X=["hidden"],_=["textContent"],ee={class:"form-group"},te=["textContent"],ne={key:0},se=["textContent"],ae=["textContent"],oe=["textContent"],ie={class:"form-group"},le=["textContent"],re=["placeholder"],ue={key:0},de=["textContent"],me={class:"form-group"},ce=["textContent"],ve=["placeholder"],ge={key:0},he=["textContent"],$e={class:"form-group"},pe=["textContent"],fe=["placeholder"],ye={key:0},Ae=["textContent"],Ce=["textContent"],be=["textContent"],Ne=["textContent"],ke={class:"form-check"},Se={class:"form-check-label",for:"activated"},Me=["disabled"],Le=["textContent"],Ue={key:0,class:"form-group"},we=["textContent"],xe=["value"],Ve={class:"form-group"},De=["textContent"],Te=["value"],qe=["textContent"],Ee=["disabled"],Ke=["textContent"];function ze(e,n,h,u,$,c){const d=z("font-awesome-icon");return i(),o("div",P,[t("div",Q,[e.userAccount?(i(),o("form",{key:0,name:"editForm",novalidate:"",onSubmit:n[9]||(n[9]=B(s=>e.save(),["prevent"]))},[t("h2",{id:"myUserLabel",textContent:a(e.t$("userManagement.home.createOrEditLabel"))},null,8,W),t("div",null,[t("div",{class:"form-group",hidden:!e.userAccount.id},[t("label",{textContent:a(e.t$("global.field.id"))},null,8,_),r(t("input",{type:"text",class:"form-control",name:"id","onUpdate:modelValue":n[0]||(n[0]=s=>e.userAccount.id=s),readonly:""},null,512),[[g,e.userAccount.id]])],8,X),t("div",ee,[t("label",{class:"form-control-label",textContent:a(e.t$("userManagement.login"))},null,8,te),r(t("input",{type:"text",class:y(["form-control",{valid:!e.v$.userAccount.login.$invalid,invalid:e.v$.userAccount.login.$invalid}]),name:"login","onUpdate:modelValue":n[1]||(n[1]=s=>e.v$.userAccount.login.$model=s)},null,2),[[g,e.v$.userAccount.login.$model]]),e.v$.userAccount.login.$anyDirty&&e.v$.userAccount.login.$invalid?(i(),o("div",ne,[e.v$.userAccount.login.required?l("",!0):(i(),o("small",{key:0,class:"form-text text-danger",textContent:a(e.t$("entity.validation.required"))},null,8,se)),e.v$.userAccount.login.maxLength?l("",!0):(i(),o("small",{key:1,class:"form-text text-danger",textContent:a(e.t$("entity.validation.maxlength",{max:50}))},null,8,ae)),e.v$.userAccount.login.pattern?l("",!0):(i(),o("small",{key:2,class:"form-text text-danger",textContent:a(e.t$("entity.validation.patternLogin"))},null,8,oe))])):l("",!0)]),t("div",ie,[t("label",{class:"form-control-label",for:"firstName",textContent:a(e.t$("userManagement.firstName"))},null,8,le),r(t("input",{type:"text",class:y(["form-control",{valid:!e.v$.userAccount.firstName.$invalid,invalid:e.v$.userAccount.firstName.$invalid}]),id:"firstName",name:"firstName",placeholder:e.t$("settings.form['firstname.placeholder']"),"onUpdate:modelValue":n[2]||(n[2]=s=>e.v$.userAccount.firstName.$model=s)},null,10,re),[[g,e.v$.userAccount.firstName.$model]]),e.v$.userAccount.firstName.$anyDirty&&e.v$.userAccount.firstName.$invalid?(i(),o("div",ue,[e.v$.userAccount.firstName.maxLength?l("",!0):(i(),o("small",{key:0,class:"form-text text-danger",textContent:a(e.t$("entity.validation.maxlength",{max:50}))},null,8,de))])):l("",!0)]),t("div",me,[t("label",{class:"form-control-label",for:"lastName",textContent:a(e.t$("userManagement.lastName"))},null,8,ce),r(t("input",{type:"text",class:y(["form-control",{valid:!e.v$.userAccount.lastName.$invalid,invalid:e.v$.userAccount.lastName.$invalid}]),id:"lastName",name:"lastName",placeholder:e.t$("settings.form['lastname.placeholder']"),"onUpdate:modelValue":n[3]||(n[3]=s=>e.v$.userAccount.lastName.$model=s)},null,10,ve),[[g,e.v$.userAccount.lastName.$model]]),e.v$.userAccount.lastName.$anyDirty&&e.v$.userAccount.lastName.$invalid?(i(),o("div",ge,[e.v$.userAccount.lastName.maxLength?l("",!0):(i(),o("small",{key:0,class:"form-text text-danger",textContent:a(e.t$("entity.validation.maxlength",{max:50}))},null,8,he))])):l("",!0)]),t("div",$e,[t("label",{class:"form-control-label",for:"email",textContent:a(e.t$("userManagement.email"))},null,8,pe),r(t("input",{type:"email",class:y(["form-control",{valid:!e.v$.userAccount.email.$invalid,invalid:e.v$.userAccount.email.$invalid}]),id:"email",name:"email",placeholder:e.t$("global.form['email.placeholder']"),"onUpdate:modelValue":n[4]||(n[4]=s=>e.v$.userAccount.email.$model=s),email:"",required:""},null,10,fe),[[g,e.v$.userAccount.email.$model]]),e.v$.userAccount.email.$anyDirty&&e.v$.userAccount.email.$invalid?(i(),o("div",ye,[e.v$.userAccount.email.required?l("",!0):(i(),o("small",{key:0,class:"form-text text-danger",textContent:a(e.t$("global.messages.validate.email.required"))},null,8,Ae)),e.v$.userAccount.email.email?l("",!0):(i(),o("small",{key:1,class:"form-text text-danger",textContent:a(e.t$("global.messages.validate.email.invalid"))},null,8,Ce)),e.v$.userAccount.email.minLength?l("",!0):(i(),o("small",{key:2,class:"form-text text-danger",textContent:a(e.t$("global.messages.validate.email.minlength"))},null,8,be)),e.v$.userAccount.email.maxLength?l("",!0):(i(),o("small",{key:3,class:"form-text text-danger",textContent:a(e.t$("global.messages.validate.email.maxlength"))},null,8,Ne))])):l("",!0)]),t("div",ke,[t("label",Se,[r(t("input",{class:"form-check-input",disabled:e.userAccount.id===null,type:"checkbox",id:"activated",name:"activated","onUpdate:modelValue":n[5]||(n[5]=s=>e.userAccount.activated=s)},null,8,Me),[[F,e.userAccount.activated]]),t("span",{textContent:a(e.t$("userManagement.activated"))},null,8,Le)])]),e.languages&&Object.keys(e.languages).length>0?(i(),o("div",Ue,[t("label",{for:"langKey",textContent:a(e.t$("userManagement.langKey"))},null,8,we),r(t("select",{class:"form-control",id:"langKey",name:"langKey","onUpdate:modelValue":n[6]||(n[6]=s=>e.userAccount.langKey=s)},[(i(!0),o(M,null,L(e.languages,(s,m)=>(i(),o("option",{value:m,key:m},a(s.name),9,xe))),128))],512),[[S,e.userAccount.langKey]])])):l("",!0),t("div",Ve,[t("label",{textContent:a(e.t$("userManagement.profiles"))},null,8,De),r(t("select",{class:"form-control",multiple:"",name:"authority","onUpdate:modelValue":n[7]||(n[7]=s=>e.userAccount.authorities=s)},[(i(!0),o(M,null,L(e.authorities,s=>(i(),o("option",{value:s,key:s},a(s),9,Te))),128))],512),[[S,e.userAccount.authorities]])])]),t("div",null,[t("button",{type:"button",class:"btn btn-secondary",onClick:n[8]||(n[8]=s=>e.previousState())},[U(d,{icon:"ban"}),n[10]||(n[10]=w(" ")),t("span",{textContent:a(e.t$("entity.action.cancel"))},null,8,qe)]),t("button",{type:"submit",disabled:e.v$.userAccount.$invalid||e.isSaving,class:"btn btn-primary"},[U(d,{icon:"save"}),n[11]||(n[11]=w(" ")),t("span",{textContent:a(e.t$("entity.action.save"))},null,8,Ke)],8,Ee)])],32)):l("",!0)])])}const Ze=K(G,[["render",ze]]);export{Ze as default};
