import{b as v,d as C,n as m,r as f,l as y,a as k,_ as x,g as a,i as e,t as l,k as O,j as P,v as w,Y as p,a2 as g,q as $,f as c}from"./app-sWctXk48.js";import{o as j}from"./arrays-BBQyuUUU.js";class S{loadConfiguration(){return new Promise(o=>{v.get("management/configprops").then(i=>{const u=[],d=this.getConfigPropertiesObjects(i.data);for(const s in d)Object.hasOwn(d,s)&&u.push(d[s]);u.sort((s,n)=>{const r=s.prefix<n.prefix?-1:1;return s.prefix===n.prefix?0:r}),o(u)})})}loadEnvConfiguration(){return new Promise(o=>{v.get("management/env").then(i=>{const u={},d=i.data.propertySources;for(const s of d){const n=s.name,r=s.properties,h=[];for(const b in r)Object.hasOwn(r,b)&&h.push({key:b,val:r[b].value});u[n]=h}o(u)})})}getConfigPropertiesObjects(o){if(o.contexts!==void 0){for(const i in o.contexts)if(!i.startsWith("bootstrap"))return o.contexts[i].beans}return o.contexts.yfcx123.beans}}const _=C({compatConfig:{MODE:3},name:"JhiConfiguration",setup(){const t=m("configurationService",()=>new S,!0),o=f("prefix"),i=f(!1),u=f({}),d=f([]),s=f([]),n=f(""),r=y(()=>j(d.value,{filterByTerm:n.value,orderByProp:o.value,reverse:i.value}));return{configurationService:t,orderProp:o,reverse:i,allConfiguration:u,configuration:d,configKeys:s,filtered:n,filteredConfiguration:r,t$:k().t}},mounted(){this.init()},methods:{init(){this.configurationService.loadConfiguration().then(t=>{this.configuration=t;for(const o of this.configuration)o.properties!==void 0&&this.configKeys.push(Object.keys(o.properties))}),this.configurationService.loadEnvConfiguration().then(t=>{this.allConfiguration=t})},changeOrder(t){this.orderProp=t,this.reverse=!this.reverse},keys(t){return t===void 0?[]:Object.keys(t)}}}),B=["textContent"],V={key:0},D=["textContent"],E={class:"table table-striped table-bordered table-responsive d-table","aria-describedby":"Configuration"},N=["textContent"],T=["textContent"],F={class:"col-md-4"},K={class:"col-md-8"},M={class:"float-right badge-secondary break"},q={class:"table table-sm table-striped table-bordered table-responsive d-table","aria-describedby":"Properties"},H={class:"break"},I={class:"break"},J={class:"float-right badge-secondary break"};function L(t,o,i,u,d,s){return c(),a("div",null,[e("h2",{id:"configuration-page-heading",textContent:l(t.t$("configuration.title")),"data-cy":"configurationPageHeading"},null,8,B),t.allConfiguration&&t.configuration?(c(),a("div",V,[e("span",{textContent:l(t.t$("configuration.filter"))},null,8,D),o[4]||(o[4]=O()),P(e("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=n=>t.filtered=n),class:"form-control"},null,512),[[w,t.filtered]]),o[5]||(o[5]=e("h3",null,"Spring configuration",-1)),e("table",E,[e("thead",null,[e("tr",null,[e("th",{class:"w-40",onClick:o[1]||(o[1]=n=>t.changeOrder("prefix")),scope:"col"},[e("span",{textContent:l(t.t$("configuration.table.prefix"))},null,8,N)]),e("th",{class:"w-60",onClick:o[2]||(o[2]=n=>t.changeOrder("properties")),scope:"col"},[e("span",{textContent:l(t.t$("configuration.table.properties"))},null,8,T)])])]),e("tbody",null,[(c(!0),a(p,null,g(t.filteredConfiguration,n=>(c(),a("tr",{key:n.prefix},[e("td",null,[e("span",null,l(n.prefix),1)]),e("td",null,[(c(!0),a(p,null,g(t.keys(n.properties),r=>(c(),a("div",{class:"row",key:r},[e("div",F,l(r),1),e("div",K,[e("span",M,l(n.properties[r]),1)])]))),128))])]))),128))])]),(c(!0),a(p,null,g(t.keys(t.allConfiguration),n=>(c(),a("div",{key:n},[e("h4",null,[e("span",null,l(n),1)]),e("table",q,[o[3]||(o[3]=e("thead",null,[e("tr",null,[e("th",{class:"w-40",scope:"col"},"Property"),e("th",{class:"w-60",scope:"col"},"Value")])],-1)),e("tbody",null,[(c(!0),a(p,null,g(t.allConfiguration[n],r=>(c(),a("tr",{key:r.key},[e("td",H,l(r.key),1),e("td",I,[e("span",J,l(r.val),1)])]))),128))])])]))),128))])):$("",!0)])}const Y=x(_,[["render",L]]);export{Y as default};
